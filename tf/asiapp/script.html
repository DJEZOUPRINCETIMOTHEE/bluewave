<script src="js/jquery.min.js"></script>
<script src="js/materialize.min.js"></script>
<!-- Owl carousel -->
<script src="lib/owlcarousel/owl.carousel.min.js"></script>
<!-- Magnific Popup core JS file -->
<script src="lib/Magnific-Popup-master/dist/jquery.magnific-popup.js"></script>
<!-- Slick JS -->
<script src="lib/slick/slick/slick.min.js"></script>
<!-- Custom script -->
<script src="js/custom.js"></script>
<!-- modal -->

<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js"></script> 
<script type="module">
// Importez les modules Firebase nécessaires
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

// Configuration Firebase
const firebaseConfig = {
  apiKey: "AIzaSyC2Cia_tYJkPozj4OI7L7lVqau7NoX327g",
  authDomain: "bluewave-cd31b.firebaseapp.com",
  projectId: "bluewave-cd31b",
  storageBucket: "bluewave-cd31b.appspot.com",
  messagingSenderId: "529592430175",
  appId: "1:529592430175:web:0b3804bc4935e6d49535ea",
  measurementId: "G-JWPLLZQ9RB"
};

// Initialisez Firebase avec votre configuration
const app = initializeApp(firebaseConfig);
  
// Obtenez une référence à la collection "category"
const db = getFirestore(app);
const categoryCollection = collection(db, 'category');

const getData = async () => {
  // Étape 1 : Définir les variables
  var contenuTitre;
  var contenuImage;

  // Étape 2 : Exécuter une requête pour obtenir les documents
  const querySnapshot = await getDocs(categoryCollection);

  // Étape 3 : Parcourir chaque document
  querySnapshot.forEach((doc) => {
    // Récupérer les valeurs des champs
    contenuTitre = doc.data().nom;
    contenuImage = doc.data().image;

    // Étape 4 : Remplacer les étoiles dans le code
    var codeHtml = `<div class="col s4 m4 l2">
        <a class="icon-content" id="w3myBtn" onclick="ajouterElement()" >
        <div class="content fadetransition">
          <div class="in-content">
            <div class="in-in-content">
              <img src="${contenuImage}" alt="category">
              <h5>${contenuTitre}</h5>
            </div>
          </div>
        </div>
      </a>
      </div>`;

    // Étape 5 : Insérer le code HTML dans la page
    document.getElementById("contenu").innerHTML += codeHtml;
  });
};

getData();

</script>
